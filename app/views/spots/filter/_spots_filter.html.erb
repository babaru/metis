<table class='filter'>
  <tr class="selected">
    <td class="title">您已选择</td>
    <td>
      <ul>
        <%= render_selected_item(
              :medium_id,
              spots_filter.selected_medium.name,
              {
                spot_category_id: spots_filter.selected_spot_category.nil? ? nil : spots_filter.selected_spot_category.id,
                channel_id: spots_filter.selected_channel.nil? ? nil : spots_filter.selected_channel.id,
                unit_type: spots_filter.selected_unit_type.nil? ? nil : spots_filter.selected_unit_type
              }
            ) if spots_filter.selected_medium %>

        <%= render_selected_item(
              :channel_id,
              spots_filter.selected_channel.name,
              {
                medium_id: spots_filter.selected_medium.nil? ? nil : spots_filter.selected_medium.id,
                spot_category_id: spots_filter.selected_spot_category.nil? ? nil : spots_filter.selected_spot_category.id,
                unit_type: spots_filter.selected_unit_type.nil? ? nil : spots_filter.selected_unit_type
              }
            ) if spots_filter.selected_channel %>

        <%= render_selected_item(
              :spot_category_id,
              spots_filter.selected_spot_category.name,
              {
                medium_id: spots_filter.selected_medium.nil? ? nil : spots_filter.selected_medium.id,
                channel_id: spots_filter.selected_channel.nil? ? nil : spots_filter.selected_channel.id,
                unit_type: spots_filter.selected_unit_type.nil? ? nil : spots_filter.selected_unit_type
              }
            ) if spots_filter.selected_spot_category %>

        <%= render_selected_item(
              :unit_type,
              spots_filter.selected_unit_type_name,
              {
                medium_id: spots_filter.selected_medium.nil? ? nil : spots_filter.selected_medium.id,
                channel_id: spots_filter.selected_channel.nil? ? nil : spots_filter.selected_channel.id,
                spot_category_id: spots_filter.selected_spot_category.nil? ? nil : spots_filter.selected_spot_category.id
              }
            ) if spots_filter.selected_unit_type %>
      </ul>
    </td>
  </tr>
  <tr class="selectors">
    <td class="title">所属网站</td>
    <td>
      <ul class="nav nav-pills">
        <% media.each do |medium| %>
        <%= render_selector_item(
            :medium_id,
            medium.id,
            medium.name,
            {
              medium_id: spots_filter.selected_medium.nil? ? nil : spots_filter.selected_medium.id,
              spot_category_id: spots_filter.selected_spot_category.nil? ? nil : spots_filter.selected_spot_category.id,
              channel_id: spots_filter.selected_channel.nil? ? nil : spots_filter.selected_channel.id,
              unit_type: spots_filter.selected_unit_type.nil? ? nil : spots_filter.selected_unit_type
            }) %>
        <% end %>
      </ul>
    </td>
  </tr>
  <%= render({
        partial: 'spots/filter/spots_channel_selectors',
        locals: {spots_filter: spots_filter}
      }) if spots_filter.selected_medium %>
  <%= render({
        partial: 'spots/filter/spots_category_selectors',
        locals: {spots_filter: spots_filter}
      }) if spots_filter.selected_medium %>
  <%= render({
        partial: 'spots/filter/spots_unit_type_selectors',
        locals: {spots_filter: spots_filter}
      }) if spots_filter.selected_medium %>
</table>
