<%= render_page_title "#{t('model.list', model: User.model_name.human)}" do |toolbar|
  toolbar << {
    name: render_icon_and_text_content('icon-plus-sign', t('model.create', :model => User.model_name.human)),
    url: new_user_path,
    options: {class: 'button button-primary'}
  }
end %>

<%= grid(@users_grid, :show_filters => :always) do |g|

  g.column name: t('activerecord.attributes.user.email') do |user|
    user.email
  end

  g.column name: t('activerecord.attributes.user.roles') do |user|
    user.roles.inject([]) {|list, role| list << content_tag(:span, role.i18n_name, class: 'label label-inverse')}.join(' ').html_safe
  end

  g.column :html => {class: 'buttons'} do |user|
    link_to(render_icon_content('icon-edit'), edit_user_path(user), :class => 'button', :rel => 'tooltip', :title => t('buttons.edit'))
  end

  g.column :html => {class: 'buttons'} do |user|
    link_to(render_icon_content('icon-trash'), user_path(user), :method => :delete, :confirm => t("confirms.delete"), :class => 'button', :rel => 'tooltip', :title => t('buttons.delete'))
  end
end -%>
